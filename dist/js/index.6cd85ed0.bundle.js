(()=>{"use strict";var t,i={9579:(t,i,o)=>{var n=o(7294),e=o(745),r=o(4376);function s(t,i,o){return(i=function(t){var i=function(t,i){if("object"!=typeof t||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof i?i:String(i)}(i))in t?Object.defineProperty(t,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[i]=o,t}o(5767);const h=class{constructor(t,i,o,n,e,r,h){s(this,"x",void 0),s(this,"y",void 0),s(this,"dx",void 0),s(this,"dy",void 0),s(this,"color",void 0),s(this,"r",void 0),s(this,"context",void 0),this.context=t,this.x=i,this.y=o,this.dx=n,this.dy=e,this.color=r,this.r=h}draw(t,i){this.r=i||this.r;const{context:o}=this;o.beginPath(),o.arc(this.x,this.y,i||this.r,0,2*Math.PI),o.fillStyle=t||this.color,o.closePath(),o.fill()}move(){this.x+=this.dx,this.x<this.r&&(this.x=this.r,this.dx=-this.dx),this.x>window.innerWidth-this.r&&(this.x=window.innerWidth-this.r,this.dx=-this.dx),this.y+=this.dy,this.y<this.r&&(this.y=this.r,this.dy=-this.dy),this.y>window.innerHeight-this.r&&(this.y=window.innerHeight-this.r,this.dy=-this.dy)}};function a(t,i,o){return(i=function(t){var i=function(t,i){if("object"!=typeof t||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof i?i:String(i)}(i))in t?Object.defineProperty(t,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[i]=o,t}const c=class{constructor(t,i,o,n){a(this,"sourceStart",void 0),a(this,"sourceEnd",void 0),a(this,"targetStart",void 0),a(this,"dis",void 0),this.sourceStart=t,this.sourceEnd=i,this.targetStart=o,this.dis=n-o}getValue(t){return this.targetStart+this.dis*((t-this.sourceStart)/(this.sourceEnd-this.sourceStart))}},l=(t,i)=>(Math.random()*(i-t)).toFixed(1)-0+t;function d(t,i,o){return(i=function(t){var i=function(t,i){if("object"!=typeof t||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof i?i:String(i)}(i))in t?Object.defineProperty(t,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[i]=o,t}const u=class{constructor(t,i){d(this,"canvas",void 0),d(this,"points",void 0),d(this,"context",void 0),d(this,"lineScale",void 0),d(this,"mousePoint",{x:-999,y:-999}),d(this,"gui",void 0),d(this,"option",{background:"#456",pointColor:"#FFF",RADIUS:1.2,POINT_NUM:80,lineWidth:1.2,lineColor:"#FFFFFF",LINE_DISTANCE:120,MIN_MOVE:.1,MAX_MOVE:.8}),this.canvas=t,this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.context=this.canvas.getContext("2d"),this.lineScale=new c(0,this.option.LINE_DISTANCE*this.option.LINE_DISTANCE,.8,0),this.points=[],this.gui=i,window.addEventListener("mousemove",(t=>{this.mousePoint.x=t.clientX,this.mousePoint.y=t.clientY})),document.addEventListener("mouseout",(()=>{this.mousePoint.x=-999,this.mousePoint.y=-999})),this.initGui()}initGui(){this.gui.addColor(this.option,"background").name("背景颜色"),this.gui.add(this.option,"POINT_NUM").onChange((()=>{this.points=[],this.init()})).name("点的数量");const t=this.gui.addFolder("点设置");t.addColor(this.option,"pointColor").name("点颜色"),t.add(this.option,"RADIUS").name("点半径"),t.add(this.option,"MIN_MOVE").onChange((()=>{this.points=[],this.init()})).name("最小移动速度"),t.add(this.option,"MAX_MOVE").onChange((()=>{this.points=[],this.init()})).name("最大移动速度");const i=this.gui.addFolder("线设置");i.add(this.option,"lineWidth").name("线粗细"),i.addColor(this.option,"lineColor").name("线颜色"),i.add(this.option,"LINE_DISTANCE").name("线长")}init(){for(let t=0;t<this.option.POINT_NUM;t++)this.points.push(new h(this.context,l(this.option.RADIUS,window.innerWidth-this.option.RADIUS),l(this.option.RADIUS,window.innerHeight-this.option.RADIUS),l(this.option.MIN_MOVE,this.option.MAX_MOVE)*(Math.random()>.5?-1:1),l(this.option.MIN_MOVE,this.option.MAX_MOVE)*(Math.random()>.5?-1:1),this.option.pointColor,this.option.RADIUS))}drawLine(t,i){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.context.beginPath(),Object.keys(o).forEach((t=>{this.context[t]=o[t]})),this.context.moveTo(t.x,t.y),this.context.lineTo(i.x,i.y),this.context.closePath(),this.context.stroke()}calcLine(t,i){const o=t.x-i.x,n=t.y-i.y,e=o*o+n*n;if(e<this.option.LINE_DISTANCE*this.option.LINE_DISTANCE){const o={strokeStyle:this.option.lineColor,globalAlpha:"".concat(this.lineScale.getValue(e)),lineWidth:this.option.lineWidth};this.drawLine(t,i,o)}}upDate(){for(let t=0;t<this.points.length;t++)this.points[t].move(),this.points[t].draw(this.option.pointColor,this.option.RADIUS);const t=this.points.concat([this.mousePoint]);for(let i=0;i<t.length;i+=1)for(let o=i+1;o<t.length;o+=1)this.calcLine(t[i],t[o])}draw(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.context.fillStyle=this.option.background,this.context.fillRect(0,0,window.innerWidth,window.innerHeight),this.upDate(),window.requestAnimationFrame((()=>{this.draw()}))}},p=()=>{const t=(0,n.useRef)();return(0,n.useEffect)((()=>{const i=new r.XS({closed:!1}),o=new u(null==t?void 0:t.current,i);o.init(),o.draw()}),[]),n.createElement("div",null,n.createElement("canvas",{ref:t,id:"starSky",className:"myCanvas"}),n.createElement("a",{onClick:t=>{window.open("https://github.com/DominicBao/canvas-starry-particle"),t.preventDefault()},href:"https://github.com/DominicBao/canvas-starry-particle"},"源码"))},v=()=>n.createElement("div",{className:"app"},n.createElement(p,null));e.createRoot(document.getElementById("root")).render(n.createElement(v,null))}},o={};function n(t){var e=o[t];if(void 0!==e)return e.exports;var r=o[t]={exports:{}};return i[t](r,r.exports,n),r.exports}n.m=i,t=[],n.O=(i,o,e,r)=>{if(!o){var s=1/0;for(l=0;l<t.length;l++){for(var[o,e,r]=t[l],h=!0,a=0;a<o.length;a++)(!1&r||s>=r)&&Object.keys(n.O).every((t=>n.O[t](o[a])))?o.splice(a--,1):(h=!1,r<s&&(s=r));if(h){t.splice(l--,1);var c=e();void 0!==c&&(i=c)}}return i}r=r||0;for(var l=t.length;l>0&&t[l-1][2]>r;l--)t[l]=t[l-1];t[l]=[o,e,r]},n.d=(t,i)=>{for(var o in i)n.o(i,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:i[o]})},n.o=(t,i)=>Object.prototype.hasOwnProperty.call(t,i),(()=>{var t={826:0};n.O.j=i=>0===t[i];var i=(i,o)=>{var e,r,[s,h,a]=o,c=0;if(s.some((i=>0!==t[i]))){for(e in h)n.o(h,e)&&(n.m[e]=h[e]);if(a)var l=a(n)}for(i&&i(o);c<s.length;c++)r=s[c],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(l)},o=self.webpackChunkcanvas_starry_particle=self.webpackChunkcanvas_starry_particle||[];o.forEach(i.bind(null,0)),o.push=i.bind(null,o.push.bind(o))})();var e=n.O(void 0,[916,757,237],(()=>n(9579)));e=n.O(e)})();